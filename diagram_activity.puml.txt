@startuml
start

:Загрузка данных о продуктах;
:Для каждого продукта в базе выполнить:
  :Вычислить срок годности (дата_изготовления + N_дней);
  :Проверить, истёк ли срок годности?;

if (срок годности истёк?) then (да)
  :Пометить продукт как просроченный;
  :Добавить запись о списании в журнал операций;
  :Уменьшить остаток на складе;
else (нет)
  :Оставить продукт активным;
endif

:Сформировать итоговый отчёт по просроченным продуктам;
stop
@enduml